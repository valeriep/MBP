<!DOCTYPE html>
<html lang="fr">
   <head>
		<meta charset="utf-8">
		<title>MyBestPiste</title>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="description" content="">
		<meta name="author" content="">

		<!-- Le styles -->
		
	
		<link rel="stylesheet" href="http://code.jquery.com/mobile/1.2.0/jquery.mobile-1.2.0.min.css" />
		<link href="css/page-content.css" rel="stylesheet">   
		<link href="css/chrome.css" rel="stylesheet">   

		<!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
		<!--[if lt IE 9]>
			<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
		<![endif]-->
		<!-- Le javascript -->
		<script src="libs/cordova.js"></script>
		<script src="libs/jquery-1.7.1.min.js"></script>
		<script src="libs/jquery.mobile-1.0.1.min.js"></script>
		<script src="libs/jquery.raty.js"></script>
		<script src="libs/jquery.raty.min.js"></script>
		<script src="serviceSeolan/listPist.js"></script>
		<script src="api/geolocalisation.js"></script>
		
		<script>
			function visibilite(thingId)
			{
			//	alert(thingId);
				var targetElement;
				targetElement = document.getElementById(thingId) ;
				if (targetElement.style.display == "none")
				{
				targetElement.style.display = "" ;
				} else {
				targetElement.style.display = "none" ;
				}
				if(thingId =="geo") document.addEventListener("deviceready", onDeviceReady, false);
				
			}
			
			function onDeviceReady() {
				alert('on device ready');
			if 
				if(navigator.geolocation){
				 alert('navigator');
					navigator.geolocation.getCurrentPosition(onSuccess, onError);}
					
					else{
						alert('no geolocation support');
					}
				}

				// Fonction de callback onSuccess, re�oit un objet Position
				//
			function onSuccess(position) {
				alert('cest ok'+position.coords.latitude);
					var element = document.getElementById('geo');
					element.innerHTML = 'Latitude : '                + position.coords.latitude          + '<br/>' +
										'Longitude : '               + position.coords.longitude         + '<br/>' +
										'Altitude : '                + position.coords.altitude          + '<br/>' +
										'Pr�cision : '               + position.coords.accuracy          + '<br/>' +
										'Direction : '               + position.coords.heading           + '<br/>' +
										'Vitesse : '                 + position.coords.speed             + '<br/>';
				}

				// Fonction de callback onError, re�oit un objet PositionError
				//
				function onError(error) {
				//alert('cest une erreur');
					alert('code : '    + error.code    + '\n' +
						  'message : ' + error.message + '\n');
				}
		</script>
    </head>
	<body onload="init();">
		
		<div id="listPistPage" data-role="page" > 
			<div data-role="header" >
				<h2>Les Pistes</h2>
				</div>
			<div id = "listePistes" data-role="content" >
					<ul id="liste_pistes" data-role="listview" >
					
					</ul>			
			</div>
			
			<div id="geo" data-role="content" style="display:none">
					
			</div>
			<div id="db" data-role="content" style="display:none">
					
			</div>
			<div data-role="footer">
				<div data-role="navbar" >
					<ul>
						<li><a data-role="button" data-icon="dynastar" href="#"></a></li>
						<li><a href="#" data-role="button">Les pistes</a></li>
						<li><a href="#" data-role="button">Nouvelle piste</a></li>
						<li><a href="javascript:visibilite('geo');javascript:visibilite('listePistes');" data-role="button">G�olocalisation</a></li>
					</ul>
				</div>
			</div>
		</div>

	
	</body>

</html>
